#!/usr/bin/env python3
#import mariadb
import json
#from decouple import config
from datetime import date

#try:
#    conn = mariadb.connect(
#              user = config('user', default=''),
#              password = config('password', default=''),
#              host = config('host', default=''),
#              database = config('database', default='')
#    )
#except mariadb.Error as e:
#    print(f"Error connecting to MariaDb: {e}")
#    print(json.dumps(e))

def formatdate(date):
    if date.date():
        newdate = date
        return f"{newdate.hour}:{newdate.minute} {newdate.month}/{newdate.day}"
    else:
        return None

#cur = conn.cursor()

#cur.execute("SELECT * FROM readings ORDER BY dtg DESC LIMIT 100")
graphdata = [["18:30 4/12", 74, 100], ["18:45 4/12", 73, 100], ["19:0 4/12", 73, 100], ["19:15 4/12", 73, 100], ["19:30 4/12", 73, 100], ["19:45 4/12", 73, 100], ["20:0 4/12", 73, 100], ["20:15 4/12", 73, 100], ["20:30 4/12", 73, 100], ["20:45 4/12", 73, 100], ["21:0 4/12", 73, 100], ["21:15 4/12", 73, 100], ["21:30 4/12", 73, 100], ["21:45 4/12", 73, 100], ["22:0 4/12", 73, 100], ["22:15 4/12", 73, 100], ["22:30 4/12", 73, 100], ["22:45 4/12", 73, 100], ["23:0 4/12", 73, 100], ["23:15 4/12", 73, 100], ["23:30 4/12", 73, 100], ["23:45 4/12", 73, 100], ["0:0 4/13", 73, 100], ["0:15 4/13", 73, 100], ["0:30 4/13", 73, 100], ["0:45 4/13", 73, 100], ["1:0 4/13", 73, 100], ["1:15 4/13", 73, 100], ["1:30 4/13", 73, 100], ["1:45 4/13", 73, 100], ["2:0 4/13", 73, 100], ["2:15 4/13", 73, 100], ["2:30 4/13", 73, 100], ["2:45 4/13", 73, 100], ["3:0 4/13", 73, 100], ["3:15 4/13", 73, 100], ["3:30 4/13", 73, 100], ["3:45 4/13", 73, 100], ["4:0 4/13", 73, 100], ["4:15 4/13", 73, 100], ["4:30 4/13", 73, 100], ["4:45 4/13", 73, 100], ["5:0 4/13", 72, 100], ["5:15 4/13", 72, 100], ["5:30 4/13", 72, 100], ["5:45 4/13", 72, 100], ["6:0 4/13", 73, 100], ["6:15 4/13", 73, 100], ["6:30 4/13", 73, 100], ["6:45 4/13", 73, 100], ["7:0 4/13", 73, 100], ["7:15 4/13", 73, 100], ["7:30 4/13", 73, 100], ["7:45 4/13", 73, 100], ["8:0 4/13", 73, 100], ["8:15 4/13", 74, 100], ["8:30 4/13", 74, 100], ["8:45 4/13", 74, 100], ["9:15 4/13", 74, 100], ["9:30 4/13", 74, 100], ["9:45 4/13", 74, 100], ["10:0 4/13", 74, 100], ["10:15 4/13", 75, 100], ["10:30 4/13", 75, 100], ["10:45 4/13", 75, 100], ["11:0 4/13", 75, 100], ["11:15 4/13", 76, 100], ["11:30 4/13", 76, 100], ["11:45 4/13", 76, 100], ["12:0 4/13", 76, 100], ["12:15 4/13", 76, 100], ["12:30 4/13", 76, 100], ["12:45 4/13", 77, 100], ["13:0 4/13", 77, 100], ["13:15 4/13", 78, 100], ["13:30 4/13", 78, 100], ["13:45 4/13", 78, 100], ["14:0 4/13", 78, 100], ["14:15 4/13", 78, 100], ["14:30 4/13", 78, 100], ["14:45 4/13", 78, 100], ["15:0 4/13", 78, 100], ["15:15 4/13", 78, 100], ["15:30 4/13", 78, 100], ["15:45 4/13", 78, 100], ["16:0 4/13", 78, 100], ["16:15 4/13", 77, 100], ["16:30 4/13", 78, 100], ["16:45 4/13", 77, 100], ["17:0 4/13", 77, 100], ["17:15 4/13", 77, 100], ["17:30 4/13", 77, 100],["17:45 4/13", 77, 100], ["18:0 4/13", 76, 100], ["18:15 4/13", 76, 100], ["18:3   0 4/13", 76, 100], ["18:45 4/13", 76, 100], ["19:0 4/13", 76, 100], ["19:15 4/13", 76, 100], ["19:30 4/13", 76, 100]]
#for date, temperature, humidity in cur:
#    templist = []
#    templist.append(formatdate(date))
#    templist.append(temperature)
#    templist.append(humidity)
#    graphdata.insert(0,templist)
#conn.close()

print(json.dumps(graphdata))
